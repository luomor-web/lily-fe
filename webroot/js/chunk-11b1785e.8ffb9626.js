(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11b1785e"],{5932:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t._self._c;return e("section",{staticClass:"wechat-verify"},[e("div",{staticClass:"wechat-verify-body"},[e("div",{staticClass:"hands"},[t._m(0),e("b",[t._v("&")]),e("span",{staticClass:"logo wechat"},[e("Icon",{attrs:{type:"wechat"}})],1)]),t.error?t._e():e("p",{staticClass:"loading"},[t._v(" 微信授权认证中 "),e("span",{staticClass:"dot"})]),t.error?e("div",[e("Alert",{attrs:{type:"error","show-icon":""}},[t._v(" 授权失败 "),e("span",{attrs:{slot:"desc"},slot:"desc"},[t._v(" "+t._s(t.msg)+" ")])]),e("div",{staticClass:"txt-center"},[e("router-link",{attrs:{to:"/user/login"}},[t._v("返回登陆页")])],1)],1):t._e()]),e("Copyright",{staticClass:"copyright"})],1)},a=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"logo"},[e("img",{attrs:{src:s("9b19"),alt:"logo"}})])}],o=s("4c91"),c=s("4b1c"),i=s("7736"),n=s("ed08"),l=s("2af9"),u={name:"UserLoginWechat",data(){return{error:!1,msg:null}},components:{Icon:c["a"],Alert:o["a"],Copyright:l["d"]},methods:{...Object(i["b"])({updateUserInfo:"common/updateUserInfo"})},mounted(){const{code:t,state:e}=this.$route.query;if(!t||!e)return this.$router.replace("/user/login");n["i"].post("/user/wechat_login",{code:t,state:e}).then(t=>{n["a"].login(t.data.userInfo.id,t.data.token),this.updateUserInfo(t.data),this.$router.replace(this.$route.query.redirect?this.$route.query.redirect:"/")}).catch(t=>{this.error=!0,this.msg=t.message})}},d=u,h=(s("bb9ec"),s("e607")),p=Object(h["a"])(d,r,a,!1,null,null,null);e["default"]=p.exports},"753e":function(t,e,s){},bb9ec:function(t,e,s){"use strict";s("753e")}}]);