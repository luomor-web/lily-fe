(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e019ca8c"],{7110:function(t,e,s){},adb8:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("WaterMark",[e("Header",[e("div",{staticClass:"description",attrs:{slot:"description"},slot:"description"},[e("Avatar",{attrs:{size:72,src:t.userInfo.avatar_url?t.ASSET_HOST+t.userInfo.avatar_url:null}}),e("div",{staticClass:"info"},[e("p",{staticClass:"welcome"},[t._v(" "+t._s(t.time)+"，"+t._s(t.userInfo.real_name)+"，不一定每天都很好，但每天都会有些小美好在等你！ ")]),e("p",{staticClass:"job"},[t._v(t._s(t.postInfo.department)+"-"+t._s(t.postInfo.job))])])],1)]),e("Row",{attrs:{gutter:18}},[e("Col",{attrs:{lg:16,sm:12,xs:24}},[e("Card",{staticClass:"todo-card",attrs:{"dis-hover":"",bordered:!1,title:"待办事项"}},[e("ul",[e("li",{staticClass:"repair"},[e("div",{staticClass:"card-title"},[e("Icon",{attrs:{type:"maintain"}}),t._v(" 维修工单 ")],1),e("div",{staticClass:"card-description"},[t._v(" 维修工单指派通知，请及时处理，五分好评才是目标 ")]),e("div",{staticClass:"card-operate"},[t.detail.repair_total?e("router-link",{attrs:{to:"/oa/order/repair"}},[t._v(" "+t._s(t.detail.repair_total)+"项待处理 ")]):e("span",[t._v("已处理完毕")])],1)]),e("li",{staticClass:"complain"},[e("div",{staticClass:"card-title"},[e("Icon",{attrs:{type:"report"}}),t._v(" 投诉工单 ")],1),e("div",{staticClass:"card-description"},[t._v(" 投诉工单指派通知，请及时处理，五分好评才是目标 ")]),e("div",{staticClass:"card-operate"},[t.detail.complain_total?e("router-link",{attrs:{to:"/oa/order/complain"}},[t._v(" "+t._s(t.detail.complain_total)+"项待处理 ")]):e("span",[t._v("已处理完毕")])],1)]),e("li",{staticClass:"mission"},[e("div",{staticClass:"card-title"},[e("Icon",{attrs:{type:"mission"}}),t._v(" 巡检任务 ")],1),e("div",{staticClass:"card-description"},[t._v(" 今日巡检任务已开始，按照巡检路线开始努力工作吧 ")]),e("div",{staticClass:"card-operate"},[t.detail.mission_total?e("router-link",{attrs:{to:"/oa/mission/"}},[t._v(t._s(t.detail.mission_total)+"项待处理")]):e("span",[t._v("已处理完毕")])],1)]),e("li",{staticClass:"refound"},[e("div",{staticClass:"card-title"},[e("Icon",{attrs:{type:"refound"}}),t._v(" 报销审批 ")],1),e("div",{staticClass:"card-description"},[t._v(" 工作都完成了，快把钱给员工报销了吧，不然下次谁干 ")]),e("div",{staticClass:"card-operate"},[t.detail.refound_total?e("router-link",{attrs:{to:"/oa/refound/flow?tab=approver"}},[t._v(" "+t._s(t.detail.refound_total)+"项待处理 ")]):e("span",[t._v("已处理完毕")])],1)]),e("li",{staticClass:"leave"},[e("div",{staticClass:"card-title"},[e("Icon",{attrs:{type:"leave"}}),t._v(" 请假审批 ")],1),e("div",{staticClass:"card-description"},[t._v(" 谁都有点急事，工作能安排开的话就批了吧，大家都不容易 ")]),e("div",{staticClass:"card-operate"},[t.detail.leave_total?e("router-link",{attrs:{to:"/oa/leave/flow?tab=approver"}},[t._v(" "+t._s(t.detail.leave_total)+"项待处理 ")]):e("span",[t._v("已处理完毕")])],1)]),e("li",{staticClass:"purchase"},[e("div",{staticClass:"card-title"},[e("Icon",{attrs:{type:"warehouse"}}),t._v(" 采购审批 ")],1),e("div",{staticClass:"card-description"},[t._v(" 你我他都是企业的主人，人机料样样好才能保证质量的稳定 ")]),e("div",{staticClass:"card-operate"},[t.detail.purchase_total?e("router-link",{attrs:{to:"/oa/material/flow?tab=approver"}},[t._v(" "+t._s(t.detail.purchase_total)+"项待处理 ")]):e("span",[t._v("已处理完毕")])],1)])])])],1),e("Col",{attrs:{lg:8,sm:12,xs:24}},[e("Card",{attrs:{"dis-hover":"",bordered:!1,title:"今日会议"}},[e("Table",{attrs:{stripe:"",columns:t.meetingColumns,data:t.detail.meeting}})],1)],1)],1),e("Row",{staticClass:"mt-16",attrs:{gutter:18}},[e("Col",{attrs:{xxl:8,xl:12,lg:12,sm:12,xs:24}},[e("Card",{ref:"carouselWrapper",staticClass:"carousel-card party-card",attrs:{"dis-hover":"",bordered:!1}},[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"party"}}),t._v(" 党建党讯 ")],1),e("div",[t.height>0?e("Carousel",{attrs:{height:t.height,loop:"",autoplay:"","autoplay-speed":6e3}},t._l(t.detail.party,(function(s){return e("CarouselItem",{key:s.id},[e("div",{staticClass:"carousel-item",style:`height: ${t.height}px`},[e("router-link",{attrs:{to:"/oa/party/detail/"+s.id}},[e("img",{attrs:{src:t.ASSET_HOST+s.cover_img}}),e("div",{staticClass:"title",attrs:{title:s.title}},[t._v(" "+t._s(s.title)+" ")])])],1)])})),1):t._e(),0===t.detail.party.length?e("div",{staticClass:"no-article",style:`height: ${t.height}px;line-height:${t.height}px`},[t._v(" 暂无文章 ")]):t._e()],1)])],1),e("Col",{attrs:{xxl:8,xl:12,lg:12,sm:12,xs:24}},[e("Card",{staticClass:"carousel-card min-mt-16",attrs:{"dis-hover":"",bordered:!1,title:"行政通知"}},[t.height>0?e("Carousel",{attrs:{height:t.height,loop:"",autoplay:"","autoplay-speed":6e3}},t._l(t.detail.inform,(function(s){return e("CarouselItem",{key:s.id},[e("div",{staticClass:"carousel-item",style:`height: ${t.height}px`},[e("router-link",{attrs:{to:"/oa/inform/detail/"+s.id}},[e("img",{attrs:{src:t.ASSET_HOST+s.cover_img}}),e("div",{staticClass:"title",attrs:{title:s.title}},[t._v(" "+t._s(s.title)+" ")])])],1)])})),1):t._e(),0===t.detail.inform.length?e("div",{staticClass:"no-article",style:`height: ${t.height}px;line-height:${t.height}px`},[t._v(" 暂无文章 ")]):t._e()],1)],1),e("Col",{attrs:{xxl:8,xl:10,lg:10,sm:24,xs:24}},[e("Card",{staticClass:"md-mt-16",attrs:{"dis-hover":"",bordered:!1,title:"登录日志"}},[e("Table",{attrs:{stripe:"",columns:t.loginColumns,data:t.detail.login}})],1)],1)],1)],1)},a=[],r=function(){var t=this,e=t._self._c;return e("div",{class:t.prefixCls,style:t.styles},[t._t("default")],2)},o=[];const l="ivu-carousel-item";var n={componentName:"carousel-item",name:"CarouselItem",data(){return{prefixCls:l,width:0,height:"auto",left:0}},computed:{styles(){return{width:this.width+"px",height:""+this.height,left:this.left+"px"}}},mounted(){this.$parent.slotChange()},watch:{width(t){t&&this.$parent.loop&&this.$nextTick(()=>{this.$parent.initCopyTrackDom()})},height(t){t&&this.$parent.loop&&this.$nextTick(()=>{this.$parent.initCopyTrackDom()})}},beforeDestroy(){this.$parent.slotChange()}},d=n,c=s("e607"),h=Object(c["a"])(d,r,o,!1,null,null,null),p=h.exports,u=p,m=function(){var t=this,e=t._self._c;return e("div",{class:t.classes},[e("button",{staticClass:"left",class:t.arrowClasses,attrs:{type:"button"},on:{click:function(e){return t.arrowEvent(-1)}}},[e("Icon",{attrs:{type:"ios-arrow-back"}})],1),e("div",{class:[t.prefixCls+"-list"]},[e("div",{ref:"originTrack",class:[t.prefixCls+"-track",t.showCopyTrack?"":"higher"],style:t.trackStyles,on:{click:function(e){return t.handleClick("currentIndex")}}},[t._t("default")],2),t.loop?e("div",{ref:"copyTrack",class:[t.prefixCls+"-track",t.showCopyTrack?"higher":""],style:t.copyTrackStyles,on:{click:function(e){return t.handleClick("copyTrackIndex")}}}):t._e()]),e("button",{staticClass:"right",class:t.arrowClasses,attrs:{type:"button"},on:{click:function(e){return t.arrowEvent(1)}}},[e("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e("ul",{class:t.dotsClasses},[t._l(t.slides.length,(function(s){return[e("li",{class:[s-1===t.currentIndex?t.prefixCls+"-active":""],on:{click:function(e){return t.dotsEvent("click",s-1)},mouseover:function(e){return t.dotsEvent("hover",s-1)}}},[e("button",{class:[t.radiusDot?"radius":""],attrs:{type:"button"}})])]}))],2)])},f=[],v=(s("ed70"),s("4919")),y=s("e4a4"),k=s("d4e6");const C="ivu-carousel";var g={name:"Carousel",components:{Icon:v["a"]},props:{arrow:{type:String,default:"hover",validator(t){return Object(y["m"])(t,["hover","always","never"])}},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:2e3},loop:{type:Boolean,default:!1},easing:{type:String,default:"ease"},dots:{type:String,default:"inside",validator(t){return Object(y["m"])(t,["inside","outside","none"])}},radiusDot:{type:Boolean,default:!1},trigger:{type:String,default:"click",validator(t){return Object(y["m"])(t,["click","hover"])}},value:{type:Number,default:0},height:{type:[String,Number],default:"auto",validator(t){return"auto"===t||"[object Number]"===Object.prototype.toString.call(t)}}},data(){return{prefixCls:C,listWidth:0,trackWidth:0,trackOffset:0,trackCopyOffset:0,showCopyTrack:!1,slides:[],slideInstances:[],timer:null,ready:!1,currentIndex:this.value,trackIndex:this.value,copyTrackIndex:this.value,hideTrackPos:-1}},computed:{classes(){return[""+C]},trackStyles(){const t=-1===this.trackIndex?"hidden":"visible";return{width:this.trackWidth+"px",transform:`translate3d(${-this.trackOffset}px, 0px, 0px)`,transition:"transform 500ms "+this.easing,visibility:t}},copyTrackStyles(){return{width:this.trackWidth+"px",transform:`translate3d(${-this.trackCopyOffset}px, 0px, 0px)`,transition:"transform 500ms "+this.easing,position:"absolute"}},arrowClasses(){return[C+"-arrow",`${C}-arrow-${this.arrow}`]},dotsClasses(){return[C+"-dots",`${C}-dots-${this.dots}`]}},methods:{findChild(t){const e=function(s){const i=s.$options.componentName;i?t(s):s.$children.length&&s.$children.forEach(s=>{e(s,t)})};this.slideInstances.length||!this.$children?this.slideInstances.forEach(t=>{e(t)}):this.$children.forEach(t=>{e(t)})},initCopyTrackDom(){this.$nextTick(()=>{this.$refs.copyTrack.innerHTML=this.$refs.originTrack.innerHTML})},updateSlides(t){let e=[],s=1;this.findChild(i=>{e.push({$el:i.$el}),i.index=s++,t&&this.slideInstances.push(i)}),this.slides=e,this.updatePos()},updatePos(){this.findChild(t=>{t.width=this.listWidth,t.height="number"===typeof this.height?this.height+"px":this.height}),this.trackWidth=(this.slides.length||0)*this.listWidth},slotChange(){this.$nextTick(()=>{this.slides=[],this.slideInstances=[],this.updateSlides(!0,!0),this.updatePos(),this.updateOffset()})},handleResize(){this.listWidth=parseInt(Object(y["l"])(this.$el,"width")),this.updatePos(),this.updateOffset()},updateTrackPos(t){this.showCopyTrack?this.trackIndex=t:this.copyTrackIndex=t},updateTrackIndex(t){this.showCopyTrack?this.copyTrackIndex=t:this.trackIndex=t,this.currentIndex=t},add(t){let e=this.slides.length;this.loop&&(this.hideTrackPos=t>0?-1:e,this.updateTrackPos(this.hideTrackPos));const s=this.showCopyTrack?this.copyTrackIndex:this.trackIndex;let i=s+t;while(i<0)i+=e;(t>0&&i===e||t<0&&i===e-1)&&this.loop?(this.showCopyTrack=!this.showCopyTrack,this.trackIndex+=t,this.copyTrackIndex+=t):(this.loop||(i%=this.slides.length),this.updateTrackIndex(i)),this.currentIndex=i===this.slides.length?0:i,this.$emit("on-change",s,this.currentIndex),this.$emit("input",this.currentIndex)},arrowEvent(t){this.setAutoplay(),this.add(t)},dotsEvent(t,e){let s=this.showCopyTrack?this.copyTrackIndex:this.trackIndex;const i=this.currentIndex;t===this.trigger&&s!==e&&(this.updateTrackIndex(e),this.$emit("on-change",i,this.currentIndex),this.$emit("input",e),this.setAutoplay())},setAutoplay(){window.clearInterval(this.timer),this.autoplay&&(this.timer=window.setInterval(()=>{this.add(1)},this.autoplaySpeed))},updateOffset(){this.$nextTick(()=>{let t=this.copyTrackIndex>0?-1:1;this.trackOffset=this.trackIndex*this.listWidth,this.trackCopyOffset=this.copyTrackIndex*this.listWidth+t})},handleClick(t){this.$emit("on-click",this[t])}},watch:{autoplay(){this.setAutoplay()},autoplaySpeed(){this.setAutoplay()},trackIndex(){this.updateOffset()},copyTrackIndex(){this.updateOffset()},height(){this.updatePos()},value(t){this.updateTrackIndex(t),this.setAutoplay()}},mounted(){this.updateSlides(!0),this.handleResize(),this.setAutoplay(),Object(k["b"])(window,"resize",this.handleResize)},beforeDestroy(){Object(k["a"])(window,"resize",this.handleResize)}},_=g,x=Object(c["a"])(_,m,f,!1,null,null,null),w=x.exports;w.Item=p;var I=w,T=s("2af6"),b=s("4b1c"),$=s("3e79"),S=s("be5e"),O=s("9484"),W=s("219b"),H=s("7736"),D=s("2af9"),E=s("db49"),j=s("2f42"),A=s.n(j),P=s("ed08"),z={name:"DashboardWorkPlace",data(){return{ASSET_HOST:E["a"],height:0,detail:{meeting:[],party:[],inform:[],login:[]},meetingColumns:[{title:"会议时间",minWidth:120,render:(t,e)=>t("span",`${A()(e.row.start_time).format("HH:mm")} 至 ${A()(e.row.end_time).format("HH:mm")}`)},{title:"会议室名称",minWidth:120,key:"name"},{title:"会议室位置",minWidth:120,key:"local"},{title:"查看",key:"id",minWidth:60,render:(t,e)=>t("a",{on:{click:()=>{this.$router.push("/oa/meeting/detail/"+e.row.id)}}},"查看")}],loginColumns:[{title:"登录地址",key:"ip",minWidth:120},{title:"终端类型",key:"user_agent",minWidth:220},{title:"登录时间",minWidth:240,render:(t,e)=>t("span",A()(e.row.login_at).format("YYYY-MM-DD HH:mm:ss"))}]}},mounted(){this.postInfo.default_community_id&&this.getDetail(),window.addEventListener("resize",this.computedHeight,!1),this.computedHeight()},beforeDestroy(){window.removeEventListener("resize",this.computedHeight)},methods:{computedHeight(){this.$nextTick(()=>{const{width:t}=this.$refs.carouselWrapper.$el.getBoundingClientRect();this.height=Math.ceil(712*t/1200)})},getDetail(){const t={community_id:this.postInfo.default_community_id};P["i"].post("/statistic/work",t).then(t=>{this.fetching=!1,this.detail=t.data})}},computed:{...Object(H["c"])({postInfo:"common/postInfo",userInfo:"common/userInfo"}),time(){const t=(new Date).getHours();let e;return t>=0&&t<5?e="凌晨好":t>=5&&t<=8?e="早上好":t>8&&t<=12?e="上午好":t>12&&t<=14?e="中午好":t>14&&t<=18?e="下午好":t>18&&t<24&&(e="晚上好"),e}},watch:{"postInfo.default_community_id"(){this.getDetail()}},components:{Header:D["k"],WaterMark:D["s"],Avatar:W["a"],Row:O["a"],Col:S["a"],Card:$["a"],Icon:b["a"],Table:T["a"],Carousel:I,CarouselItem:u}},R=z,M=(s("fc3e"),Object(c["a"])(R,i,a,!1,null,null,null));e["default"]=M.exports},fc3e:function(t,e,s){"use strict";s("7110")}}]);