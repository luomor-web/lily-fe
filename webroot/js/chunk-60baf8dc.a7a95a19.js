(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60baf8dc"],{"0720":function(t,e,i){"use strict";i("6535")},"0977":function(t,e,i){},"0a19":function(t,e,i){"use strict";i("c947")},"0ea2":function(t,e,i){"use strict";i("6d2a")},"124e":function(t,e,i){"use strict";i("0977")},1964:function(t,e,i){t.exports=i.p+"img/building.86a3d923.png"},"2a45":function(t,e,i){t.exports=i.p+"img/moring.b3242c5e.png"},"393b":function(t,e,i){t.exports=i.p+"img/car.9c8e8fda.png"},"3f40":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.fullscreenVisible?e("div",{class:t.classes},[e("div",{class:t.mainClasses},[e("span",{class:t.dotClasses}),e("div",{class:t.textClasses},[t._t("default")],2)])]):t._e()])},a=[],r=i("e4a4"),n=i("3178");const o="ivu-spin";var l={name:"Spin",mixins:[n["a"]],props:{size:{validator(t){return Object(r["m"])(t,["small","large","default"])},default(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data(){return{showText:!1,visible:!1}},computed:{classes(){return[""+o,{[`${o}-${this.size}`]:!!this.size,[o+"-fix"]:this.fix,[o+"-show-text"]:this.showText,[o+"-fullscreen"]:this.fullscreen}]},mainClasses(){return o+"-main"},dotClasses(){return o+"-dot"},textClasses(){return o+"-text"},fullscreenVisible(){return!this.fullscreen||this.visible}},watch:{visible(t){t?this.addScrollEffect():this.removeScrollEffect()}},mounted(){this.showText=void 0!==this.$slots.default}},c=l,h=i("e607"),d=Object(h["a"])(c,s,a,!1,null,null,null);e["a"]=d.exports},4095:function(t,e,i){},"4d77":function(t,e,i){"use strict";var s=i("1f37"),a=i("3f40"),r=i("b9aa");function n(){return Object(r["c"])(),r["d"]}let o=n();a["a"].newInstance=t=>{const e=t||{},i=new s["a"]({data:Object.assign({},e,{}),render(t){let e="";return e=this.render?t(a["a"],{props:{fix:!0,fullscreen:!0}},[this.render(t)]):t(a["a"],{props:{size:"large",fix:!0,fullscreen:!0}}),t("div",{class:"ivu-spin-fullscreen ivu-spin-fullscreen-wrapper",style:{"z-index":2010+o}},[e])}}),r=i.$mount();document.body.appendChild(r.$el);const l=i.$children[0];return{show(){l.visible=!0,o=n()},remove(t){l.visible=!1,setTimeout((function(){l.$parent.$destroy(),void 0!==document.getElementsByClassName("ivu-spin-fullscreen")[0]&&document.body.removeChild(document.getElementsByClassName("ivu-spin-fullscreen")[0]),t()}),500)},component:l}};var l=a["a"];let c;function h(t){return c=c||l.newInstance({render:t}),c}function d(t){const e="render"in t?t.render:void 0;let i=h(e);i.show(t)}l.show=function(t={}){return d(t)},l.hide=function(){if(!c)return!1;const t=h();t.remove(()=>{c=null})};e["a"]=l},"4ec6":function(t,e,i){"use strict";i("e749")},6535:function(t,e,i){},6607:function(t,e,i){},6771:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"big-screen"},[e("div",{staticClass:"big-screen-header"},[e("div",{staticClass:"big-screen-header-wrapper"},[e("img",{staticClass:"big-screen-header-bg",attrs:{src:i("e0f5")}}),e("img",{staticClass:"big-screen-header-reading",attrs:{src:i("e276")}}),e("div",{staticClass:"big-screen-header-title"},[e("img",{staticClass:"big-screen-header-title-bg",attrs:{src:i("6b8c")}}),e("img",{staticClass:"big-screen-header-title-logo",attrs:{src:i("9b19")}}),e("div",{staticClass:"text"},[e("b",[t._v(t._s(t.community_name)+"小区 — 智慧物业调度与统计中心")]),e("p",[t._v("助力物业服务升级，用心服务万千业主 —— 云启智城")])])]),e("div",{staticClass:"big-screen-header-total"},[e("Row",[e("Col",{attrs:{span:8}},[e("Icon",{attrs:{type:"maintain"}}),e("div",[e("h5",[t._v("累计受理维修工单")]),e("p",[t._v(" "+t._s(t.thousands(t.detail.repair_total))+" "),e("small",[t._v("次")])])])],1),e("Col",{attrs:{span:8}},[e("Icon",{attrs:{type:"report"}}),e("div",[e("h5",[t._v("累计响应投诉建议")]),e("p",[t._v(" "+t._s(t.thousands(t.detail.complain_total))+" "),e("small",[t._v("次")])])])],1),e("Col",{attrs:{span:8}},[e("Icon",{attrs:{type:"movecar"}}),e("div",[e("h5",[t._v("累计帮助业主挪车")]),e("p",[t._v(" "+t._s(t.thousands(t.detail.movecar_total))+" "),e("small",[t._v("次")])])])],1)],1)],1)])]),e("div",{staticClass:"big-screen-body"},[e("div",{staticClass:"left"},[e("Row",{staticClass:"total-wrapper",attrs:{gutter:12}},[e("Col",{attrs:{span:6}},[e("div",{staticClass:"card total"},[e("img",{staticClass:"item",attrs:{src:i("1964")}}),e("img",{staticClass:"star",attrs:{src:i("7daa")}}),e("h5",[t._v(t._s(t.thousands(t.detail.building_total)))]),e("p",[t._v("小区房产")]),e("img",{staticClass:"moring",attrs:{src:i("2a45")}})])]),e("Col",{attrs:{span:6}},[e("div",{staticClass:"card total"},[e("img",{staticClass:"item",attrs:{src:i("e165")}}),e("img",{staticClass:"star",attrs:{src:i("7daa")}}),e("h5",[t._v(t._s(t.thousands(t.detail.owner_total)))]),e("p",[t._v("注册业主")]),e("img",{staticClass:"moring",attrs:{src:i("2a45")}})])]),e("Col",{attrs:{span:6}},[e("div",{staticClass:"card total"},[e("img",{staticClass:"item",attrs:{src:i("393b")}}),e("img",{staticClass:"star",attrs:{src:i("7daa")}}),e("h5",[t._v(t._s(t.thousands(t.detail.car_total)))]),e("p",[t._v("小区车辆")]),e("img",{staticClass:"moring",attrs:{src:i("2a45")}})])]),e("Col",{attrs:{span:6}},[e("div",{staticClass:"card total"},[e("img",{staticClass:"item",attrs:{src:i("68c2")}}),e("img",{staticClass:"star",attrs:{src:i("7daa")}}),e("h5",[t._v(t._s(t.thousands(t.detail.pet_total)))]),e("p",[t._v("小区宠物")]),e("img",{staticClass:"moring",attrs:{src:i("2a45")}})])])],1),e("ServerChart",{attrs:{detail:{cpu:t.detail.cpu,mem:t.detail.mem,disk:t.detail.disk}}}),e("IotChart",{attrs:{detail:t.detail.log}})],1),e("div",{staticClass:"center"},[e("MapChart",{attrs:{detail:t.detail.iot,log:t.detail.log}}),e("OrderChart",{attrs:{detail:t.detail.order}})],1),e("div",{staticClass:"right"},[e("EntranceChart",{attrs:{detail:t.detail.current}}),e("WarningChart",{attrs:{detail:t.detail.warning_current}}),e("OnlineChart",{attrs:{detail:t.detail.iot}}),e("NoticeChart",{attrs:{detail:t.detail.notice}})],1)]),t.fetching?e("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},a=[],r=i("4d77"),n=i("4b1c"),o=i("be5e"),l=i("9484"),c=i("7736"),h=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card mr server"},[e("h2",{staticClass:"card-title"},[t._v("服务器实时状态")]),e("div",{ref:"chart",staticClass:"chart"})])},d=[],u=i("a70e"),f={name:"ServerChart",props:{detail:{type:Object,default:()=>({cpu:0,mem:0,disk:0})}},mounted(){this.$nextTick(()=>{this.chart=u["b"](this.$refs.chart),this.drawChart()}),window.addEventListener("resize",this.onResize,!1)},beforeDestroy(){window.removeEventListener("resize",this.onResize),this.chart.dispose()},methods:{onResize(){this.chart.resize()},drawChart(){this.chart.setOption({series:[{type:"gauge",center:["16%","54%"],radius:"48%",axisLine:{lineStyle:{width:10,color:[[.25,"#7CFFB2"],[.5,"#58D9F9"],[.75,"#FDDD60"],[1,"#FF6E76"]]}},pointer:{itemStyle:{color:"inherit"}},axisTick:{distance:-10,length:6,lineStyle:{color:"#fff",width:1}},splitLine:{distance:-10,length:10,lineStyle:{color:"#fff",width:2}},axisLabel:{color:"inherit",distance:14,fontSize:12},detail:{valueAnimation:!0,formatter:"{value} %",color:"inherit",fontSize:14,lineHeight:18},title:{show:!0,fontSize:14,offsetCenter:[0,"100%"],color:"#fff"},data:[{name:"硬盘使用率",value:this.detail.disk}]},{type:"gauge",center:["49%","54%"],radius:"48%",axisLine:{lineStyle:{width:10,color:[[.25,"#7CFFB2"],[.5,"#58D9F9"],[.75,"#FDDD60"],[1,"#FF6E76"]]}},pointer:{itemStyle:{color:"inherit"}},axisTick:{distance:-10,length:6,lineStyle:{color:"#fff",width:1}},splitLine:{distance:-10,length:10,lineStyle:{color:"#fff",width:2}},axisLabel:{color:"inherit",distance:14,fontSize:12},detail:{valueAnimation:!0,formatter:"{value} %",color:"inherit",fontSize:14,lineHeight:18},title:{show:!0,fontSize:14,offsetCenter:[0,"100%"],color:"#fff"},data:[{name:"内存使用率",value:this.detail.mem}]},{type:"gauge",center:["82%","54%"],radius:"48%",axisLine:{lineStyle:{width:10,color:[[.25,"#7CFFB2"],[.5,"#58D9F9"],[.75,"#FDDD60"],[1,"#FF6E76"]]}},pointer:{itemStyle:{color:"inherit"}},axisTick:{distance:-10,length:6,lineStyle:{color:"#fff",width:1}},splitLine:{distance:-10,length:10,lineStyle:{color:"#fff",width:2}},axisLabel:{color:"inherit",distance:14,fontSize:12},detail:{valueAnimation:!0,formatter:"{value} %",color:"inherit",fontSize:14,lineHeight:18},title:{show:!0,fontSize:14,offsetCenter:[0,"100%"],color:"#fff"},data:[{name:"处理器使用率",value:this.detail.cpu}]}]})}},watch:{detail:{deep:!0,handler(t){this.chart.setOption({series:[{data:[{name:"硬盘使用率",value:t.disk}]},{data:[{name:"内存使用率",value:t.mem}]},{data:[{name:"处理器使用率",value:t.cpu}]}]})}}}},p=f,m=(i("d5d4"),i("e607")),v=Object(m["a"])(p,h,d,!1,null,null,null),g=v.exports,y=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card mr iot"},[e("h2",{staticClass:"card-title"},[t._v("7日内智能物联工作情况")]),e("div",{ref:"chart",staticClass:"chart"})])},_=[],w=(i("ed70"),i("2f42")),b=i.n(w),C={name:"IotChart",props:{detail:{type:Object,default:()=>({entrance:[],elevator:[],lamp:[],repeater:[],park:[],warning:[]})}},mounted(){this.$nextTick(()=>{this.chart=u["b"](this.$refs.chart),this.drawChart()}),window.addEventListener("resize",this.onResize,!1)},beforeDestroy(){window.removeEventListener("resize",this.onResize),this.chart.dispose()},methods:{onResize(){this.chart.resize()},drawChart(){const t=b()().startOf("day"),e=[],i=[],s=[],a=[],r=[],n=[],o=[];for(let l=6;l>=0;l--)e.push(t.clone().subtract(l,"day").format("MM月DD日")),i[l]=0,s[l]=0,a[l]=0,r[l]=0,n[l]=0,o[l]=0;this.detail.entrance.forEach(({created_at:e})=>{const s=6-t.diff(b()(e).startOf("day"),"day");i[s]++}),this.detail.elevator.forEach(({created_at:e})=>{const i=6-t.diff(b()(e).startOf("day"),"day");s[i]++}),this.detail.lamp.forEach(({created_at:e})=>{const i=6-t.diff(b()(e).startOf("day"),"day");a[i]++}),this.detail.repeater.forEach(({created_at:e})=>{const i=6-t.diff(b()(e).startOf("day"),"day");r[i]++}),this.detail.park.forEach(({created_at:e})=>{const i=6-t.diff(b()(e).startOf("day"),"day");n[i]++}),this.detail.warning.forEach(({created_at:e})=>{const i=6-t.diff(b()(e).startOf("day"),"day");o[i]++}),this.chart.setOption({tooltip:{trigger:"axis",backgroundColor:"rgba(0, 0, 0, 0.6)",borderColor:"#2b2b2b",textStyle:{color:"#fff"}},grid:{left:"8%",right:"6%",bottom:"5%"},xAxis:{type:"category",boundaryGap:!1,data:e,axisLabel:{color:"#8596a5"},axisLine:{show:!0,lineStyle:{color:"#8596a5"}},axisTick:{show:!1}},yAxis:{type:"value",axisLabel:{color:"#8596a5"},axisLine:{show:!0,lineStyle:{color:"#8596a5"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgb(38, 43, 85)"}}},series:[{name:"智能门禁",type:"line",smooth:!0,data:i,lineStyle:{width:2,color:"#eb2f96"}},{name:"智能梯控",type:"line",smooth:!0,data:s,lineStyle:{width:2,color:"#1890ff"}},{name:"智慧照明",type:"line",smooth:!0,data:a,lineStyle:{width:2,color:"#13c2c2"}},{name:"能耗管理",type:"line",smooth:!0,data:r,lineStyle:{width:2,color:"#52c41a"}},{name:"智慧停车",type:"line",smooth:!0,data:n,lineStyle:{width:2,color:"#722ed1"}},{name:"智慧预警",type:"line",smooth:!0,data:o,lineStyle:{width:2,color:"#ed4014"}}]}),setTimeout(()=>{this.onResize()})}},watch:{detail:{deep:!0,handler(){this.drawChart()}}}},x=C,S=(i("a856"),Object(m["a"])(x,y,_,!1,null,null,null)),$=S.exports,O=function(){var t=this,e=t._self._c;return e("section",{ref:"map",staticClass:"card map"})},T=[],z=i("db49"),P={name:"MapChart",props:{detail:{type:Object,default:()=>({center:{},entrance:[],elevator:[],lamp:[],repeater:[],park:[],warning:[]})},log:{type:Object,default:()=>({entrance:[],elevator:[],lamp:[],repeater:[],park:[],warning:[]})}},created(){this.script=document.createElement("script"),this.script.type="text/javascript",this.script.src=`//map.qq.com/api/gljs?v=1.exp&key=${z["e"]}&libraries=visualization&callback=initMap`,document.head.appendChild(this.script),window.initMap=this.initMap},beforeDestroy(){document.head.removeChild(this.script),this.map=null},methods:{initMap(){this.arc=null,this.map=new window.TMap.Map(this.$refs.map,{zoom:19,mapStyleId:"style3",pitch:50,showControl:!1}),document.querySelector(".logo-text").parentElement.style="display: none!important;",this.resetMap()},resetMap(){if(!this.detail.center.lat||!this.detail.center.lng||!this.map)return;this.map.setCenter(new window.TMap.LatLng(this.detail.center.lat,this.detail.center.lng)),this.arc&&(this.arc.remove(),this.dot.remove(),this.radiationCircle.remove(),this.heat.remove());const t=[],e=[],i=[],s={};for(let a in this.detail)"center"!==a&&this.detail[a].forEach(r=>{r.lat&&r.lng&&(t.push({id:a,from:{lat:r.lat,lng:r.lng},to:{lat:this.detail.center.lat,lng:this.detail.center.lng}}),e.push({lat:r.lat,lng:r.lng}),i.push({radius:5,center:new window.TMap.LatLng(r.lat,r.lng)}),a in s||(s[a]={lat:r.lat,lng:r.lng,count:this.log[a].length}))});0!==t.length&&(this.arc=new window.TMap.visualization.Arc({mode:"vertical",enableBloom:!0,zIndex:2,processAnimation:{tailFactor:.6},pickStyle:t=>{const e={color:"rgba(1,124,247,0.1)",width:3};switch(t.id){case"entrance":return{...e,animateColor:"#eb2f96"};case"elevator":return{...e,animateColor:"#1890ff"};case"lamp":return{...e,animateColor:"#13c2c2"};case"repeater":return{...e,animateColor:"#52c41a"};case"park":return{...e,animateColor:"#722ed1"};case"warning":return{...e,animateColor:"#ed4014"}}}}).addTo(this.map).setData(t),this.radiationCircle=new window.TMap.visualization.Radiation({styles:{default:{fillColor:"rgba(0,0,0,0)",strokeColor:"#FFF",strokeWidth:2}},zIndex:3,number:2}).addTo(this.map).setData(i),this.dot=new window.TMap.visualization.Dot({styles:{default:{fillColor:"#FFF",radius:2}},zIndex:4,enableBloom:!0}).addTo(this.map).setData(e),this.heat=new window.TMap.visualization.Heat({max:60,min:0,height:50,gradientColor:new window.TMap.GradientColor({stops:{.2:"#7CFFB2",.5:"#58D9F9",.7:"#FDDD60",.9:"#FF6E76"}}),enableLighting:!0,zIndex:5,radius:30}).addTo(this.map).setData(Object.values(s)))}},watch:{detail:{deep:!0,handler(){this.resetMap()}}}},j=P,F=(i("124e"),Object(m["a"])(j,O,T,!1,null,null,null)),E=F.exports,k=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card mr order"},[e("h2",{staticClass:"card-title"},[t._v("今日工单统计情况")]),e("Row",[e("Col",{attrs:{span:13}},[e("div",{ref:"barChart",staticClass:"chart"})]),e("Col",{attrs:{span:11}},[e("div",{ref:"radarChart",staticClass:"chart"})])],1)],1)},L=[],M={name:"OrderChart",props:{detail:{type:Object,default:()=>({repair_current_day:[],complain_current_day:[]})}},mounted(){this.$nextTick(()=>{this.barChart=u["b"](this.$refs.barChart),this.radarChart=u["b"](this.$refs.radarChart),this.drawChart()}),window.addEventListener("resize",this.onResize,!1)},beforeDestroy(){window.removeEventListener("resize",this.onResize),this.barChart.dispose(),this.radarChart.dispose()},methods:{onResize(){this.barChart.resize(),this.radarChart.resize()},drawChart(){const{repair_current_day:t,complain_current_day:e}=this.detail,i=[0,0,0,0,0],s=[0,0,0,0,0,0],a=[0,0,0,0,0],r=[];t.forEach(t=>{t.merge_id?i[4]++:4===t.step?null!==t.rate?s[t.rate]++:i[3]++:3===t.step?i[2]++:2===t.step?i[1]++:1===t.step&&i[0]++}),e.forEach(t=>{t.merge_id?a[4]++:4===t.step?null!==t.rate?r[t.rate]++:a[3]++:3===t.step?a[2]++:2===t.step?a[1]++:1===t.step&&a[0]++}),this.barChart.setOption({grid:{left:"6%",right:"4%",bottom:"6%"},xAxis:{type:"category",data:["待指派","待确认","待执行","待评价","合并工单"],axisLabel:{color:"#8596a5"},axisLine:{show:!0,lineStyle:{color:"#8596a5"}},axisTick:{show:!1}},yAxis:{type:"value",axisLabel:{color:"#8596a5"},axisLine:{show:!0,lineStyle:{color:"#8596a5"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgb(38, 43, 85)"}}},series:[{name:"维修工单",type:"bar",barGap:0,color:"#5570cb",emphasis:{focus:"series"},data:i},{name:"投诉工单",type:"bar",color:"#55c6f7",emphasis:{focus:"series"},data:a}]}),this.radarChart.setOption({radar:[{indicator:[{text:"非常不满意"},{text:"很不满意"},{text:"不满意"},{text:"一般满意"},{text:"满意"},{text:"非常满意"}],radius:120,axisName:{color:"#fff",borderRadius:3,padding:[3,5]}}],series:[{type:"radar",data:[{value:s,symbol:"rect",symbolSize:12,lineStyle:{type:"dashed"}},{value:r,areaStyle:{color:new u["a"].RadialGradient(.1,.6,1,[{color:"rgba(255, 145, 124, 0.1)",offset:0},{color:"rgba(255, 145, 124, 0.9)",offset:1}])}}]}]}),setTimeout(()=>{this.onResize()})}},components:{Row:l["a"],Col:o["a"]},watch:{detail:{deep:!0,handler(){this.drawChart()}}}},D=M,A=(i("0ea2"),Object(m["a"])(D,k,L,!1,null,null,null)),R=A.exports,I=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card mr entrance"},[e("h2",{staticClass:"card-title"},[t._v("今日小区通行记录")]),e("Slider",{attrs:{list:t.list}})],1)},W=[],H=function(){var t=this,e=t._self._c;return e("div",{class:["screen-silder",t.gutter?"gutter":""]},[e("SeamlessScroll",{staticClass:"scroll-wrapper",attrs:{data:t.list,"class-option":t.option}},[e("ul",t._l(t.list,(function(i,s){return e("li",{key:s},[e("span",[t._v(t._s(i.name)+" - "+t._s(i.local))]),e("i",[t._v(t._s(t._f("mom_format")(i.created_at)))])])})),0)]),0===t.list.length?e("div",{staticClass:"empty"},[e("p",[t._v(t._s(t.empty))])]):t._e()],1)},N=[],B=i("a6e4"),q=i.n(B),G={name:"Slider",props:{list:Array,empty:{type:String,default:"暂无记录"},gutter:{type:Boolean,default:!0}},data(){return{option:{step:.5}}},components:{SeamlessScroll:q.a}},V=G,X=(i("de46"),Object(m["a"])(V,H,N,!1,null,null,null)),Y=X.exports,U={name:"EntranceChart",props:{detail:{type:Object,default:()=>({entrance_current_day_log:[],elevator_current_day_log:[],park_current_day_log:[]})}},data(){return{list:[]}},mounted(){this.renderList()},methods:{renderList(){const{entrance_current_day_log:t,elevator_current_day_log:e,park_current_day_log:i}=this.detail,s=[];t.forEach(t=>{s.push({name:`${t.vistor?"访客":"业主"}·${t.vistor?t.vistor:t.owner}`,local:t.name,created_at:t.created_at})}),e.forEach(t=>{s.push({name:`${t.vistor?"访客":"业主"}·${t.vistor?t.vistor:t.owner}`,local:t.name,created_at:t.created_at})}),i.forEach(t=>{s.push({name:t.car_number,local:`${t.name}·${t.gate}`,created_at:t.created_at})}),this.list=s}},components:{Slider:Y},watch:{detail:{deep:!0,handler(){this.renderList()}}}},J=U,K=(i("0a19"),Object(m["a"])(J,I,W,!1,null,null,null)),Q=K.exports,Z=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card mr warning"},[e("div",{class:["alarm",t.active?"active":""]},[t._m(0),t._m(1),e("div",{staticClass:"base"})]),e("Slider",{attrs:{list:t.list,gutter:!1,empty:"没有情况就是最好的情况"}})],1)},tt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"light"},[e("span"),e("span"),e("span"),e("span"),e("span")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"bulb"},[e("div",{staticClass:"eyes"},[e("span"),e("span")]),e("div",{staticClass:"mouth"})])}],et=i("ed08"),it={name:"WarningChart",props:{detail:{type:Array,default:()=>[]}},mounted(){this.renderList()},data(){return{list:[],active:!1}},methods:{renderList(){const t=[];let e=!1;this.detail.forEach(i=>{b()().diff(b()(i.created_at),"minute")<5&&(e=!0);let s="";switch(i.category){case 1:s="漏水";break;case 2:s="起火";break;case 3:s="漏气";break}t.push({name:s,local:et["b"].text(i),created_at:i.created_at})}),this.list=t,this.active=e}},components:{Slider:Y},watch:{detail:{deep:!0,handler(){this.renderList()}}}},st=it,at=(i("deee"),Object(m["a"])(st,Z,tt,!1,null,null,null)),rt=at.exports,nt=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card mr notice"},[e("h2",{staticClass:"card-title"},[t._v("小区最新通知")]),t.detail.title?e("div",[e("h4",[t._v(t._s(t.detail.title))]),e("div",{staticClass:"text"},[t._v(t._s(t.detail.overview))])]):e("div",{staticClass:"empty"},[t._v(" 小区当前未发布任何通知 ")])])},ot=[],lt={name:"NoticeChart",props:{detail:Object}},ct=lt,ht=(i("9b5c"),Object(m["a"])(ct,nt,ot,!1,null,null,null)),dt=ht.exports,ut=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card mr online"},[e("div",[e("h4",[t._v("智能物联硬件")]),e("h1",[t._v(" "+t._s(t.thousands(t.total))+" "),e("small",[t._v("个")])])]),e("div",{ref:"chart",staticClass:"chart"})])},ft=[],pt={name:"OnlineChart",props:{detail:{type:Object,default:()=>({entrance:[],elevator:[],lamp:[],repeater:[],park:[],warning:[]})}},data(){return{total:0,error:0}},mounted(){this.$nextTick(()=>{this.chart=u["b"](this.$refs.chart),this.computed()}),window.addEventListener("resize",this.onResize,!1)},beforeDestroy(){window.removeEventListener("resize",this.onResize),this.chart.dispose()},methods:{onResize(){this.chart.resize()},thousands(t){return"number"!==typeof t?"":t.toLocaleString()},computed(){let t=0,e=0;for(let i in this.detail)Array.isArray(this.detail[i])&&(this.detail[i].forEach(({online:t})=>{t||e++}),t+=this.detail[i].length);this.total=t,this.error=e,this.chart.setOption({series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},zlevel:1,progress:{show:!0,overlap:!0,roundCap:!0,clip:!1,itemStyle:{color:new u["a"].LinearGradient(0,0,1,0,[{offset:0,color:"#FF9797"},{offset:1,color:"#F15C5C"}])}},axisLine:{show:!0,lineStyle:{opacity:.1}},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},data:[{value:Math.round(e/t*100),name:"设备异常率",title:{fontSize:12,color:"#fff",offsetCenter:[0,"-10%"]}}],detail:{width:50,height:14,fontSize:16,color:"#fff",formatter:"{value}%",offsetCenter:[0,"20%"]}}]})}},watch:{detail:{deep:!0,handler(){this.computed()}}}},mt=pt,vt=(i("4ec6"),Object(m["a"])(mt,ut,ft,!1,null,null,null)),gt=vt.exports,yt={name:"StatisticScreen",data(){return{fetching:!0,detail:{building_total:0,owner_total:0,car_total:0,pet_total:0,repair_total:0,complain_total:0,movecar_total:0,cpu:0,mem:0,disk:0,log:{entrance:[],elevator:[],lamp:[],repeater:[],park:[],warning:[]},iot:{center:{},entrance:[],elevator:[],lamp:[],repeater:[],park:[],warning:[]},current:{entrance_current_day_log:[],elevator_current_day_log:[],park_current_day_log:[]},order:{repair_current_day:[],complain_current_day:[]},warning_current:[],notice:{}}}},mounted(){this.postInfo.default_community_id&&(this.getDetail(),this.timer=setInterval(()=>{this.getDetail()},6e4))},beforeDestroy(){clearInterval(this.timer)},methods:{getDetail(){const t={community_id:this.postInfo.default_community_id};et["i"].post("/statistic/screen",t).then(t=>{this.detail=t.data,this.fetching=!1}).catch(()=>this.fetching=!1)},thousands(t){return"number"!==typeof t?"":t.toLocaleString()}},computed:{...Object(c["c"])({postInfo:"common/postInfo"}),community_name(){if(!this.postInfo.default_community_id)return"";const t=this.postInfo.community_list.findIndex(t=>t.community_id===this.postInfo.default_community_id);return this.postInfo.community_list[t].name}},watch:{"postInfo.default_community_id"(){this.getDetail()}},components:{Row:l["a"],Col:o["a"],Icon:n["a"],Spin:r["a"],ServerChart:g,IotChart:$,MapChart:E,OrderChart:R,EntranceChart:Q,WarningChart:rt,NoticeChart:dt,OnlineChart:gt}},_t=yt,wt=(i("0720"),Object(m["a"])(_t,s,a,!1,null,null,null));e["default"]=wt.exports},"68c2":function(t,e,i){t.exports=i.p+"img/pet.bb554d90.png"},"6b8c":function(t,e,i){t.exports=i.p+"img/title.3bd63cb6.png"},"6d2a":function(t,e,i){},"71df":function(t,e,i){},"7d46":function(t,e,i){},"7daa":function(t,e,i){t.exports=i.p+"img/staring.70e41ba7.png"},9484:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:t.classes,style:t.styles},[t._t("default")],2)},a=[],r=i("e4a4");const n="ivu-row";var o={name:"Row",props:{type:{validator(t){return Object(r["m"])(t,["flex"])}},align:{validator(t){return Object(r["m"])(t,["top","middle","bottom"])}},justify:{validator(t){return Object(r["m"])(t,["start","end","center","space-around","space-between"])}},gutter:{type:Number,default:0},className:String,wrap:{type:Boolean,default:!0}},computed:{classes(){return[""+n,{[`${n}-${this.type}`]:!!this.type,[`${n}-${this.type}-${this.align}`]:!!this.align&&this.type,[`${n}-${this.type}-${this.justify}`]:!!this.justify&&this.type,[`${n}-${this.align}`]:!!this.align,[`${n}-${this.justify}`]:!!this.justify,[""+this.className]:!!this.className,[n+"-no-wrap"]:!this.wrap}]},styles(){let t={};return 0!==this.gutter&&(t={marginLeft:this.gutter/-2+"px",marginRight:this.gutter/-2+"px"}),t}},methods:{updateGutter(t){const e=Object(r["f"])(this,"iCol"),i=Object(r["e"])(e,"iCol",!1);i.length&&i.forEach(e=>{0!==t&&(e.gutter=t)})}},watch:{gutter(t){this.updateGutter(t)}}},l=o,c=i("e607"),h=Object(c["a"])(l,s,a,!1,null,null,null),d=h.exports;e["a"]=d},"9b5c":function(t,e,i){"use strict";i("4095")},a6e4:function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,(function(){return function(t){function e(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(4)();var s=i(5),a=i(6);e.default={name:"vue-seamless-scroll",data:function(){return{xPos:0,yPos:0,delay:0,copyHtml:"",height:0,width:0,realBoxWidth:0}},props:{data:{type:Array,default:function(){return[]}},classOption:{type:Object,default:function(){return{}}}},computed:{leftSwitchState:function(){return this.xPos<0},rightSwitchState:function(){return Math.abs(this.xPos)<this.realBoxWidth-this.width},leftSwitchClass:function(){return this.leftSwitchState?"":this.options.switchDisabledClass},rightSwitchClass:function(){return this.rightSwitchState?"":this.options.switchDisabledClass},leftSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 -"+this.options.switchOffset+"px",transform:"translate(-100%,-50%)"}},rightSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 "+(this.width+this.options.switchOffset)+"px",transform:"translateY(-50%)"}},float:function(){return this.isHorizontal?{float:"left",overflow:"hidden"}:{overflow:"hidden"}},pos:function(){return{transform:"translate("+this.xPos+"px,"+this.yPos+"px)",transition:"all "+this.ease+" "+this.delay+"ms",overflow:"hidden"}},defaultOption:function(){return{step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}},options:function(){return a({},this.defaultOption,this.classOption)},navigation:function(){return this.options.navigation},autoPlay:function(){return!this.navigation&&this.options.autoPlay},scrollSwitch:function(){return this.data.length>=this.options.limitMoveNum},hoverStopSwitch:function(){return this.options.hoverStop&&this.autoPlay&&this.scrollSwitch},canTouchScroll:function(){return this.options.openTouch},isHorizontal:function(){return this.options.direction>1},baseFontSize:function(){return this.options.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1},realSingleStopWidth:function(){return this.options.singleWidth*this.baseFontSize},realSingleStopHeight:function(){return this.options.singleHeight*this.baseFontSize},step:function(){var t=this.options.step;return this.isHorizontal?this.realSingleStopWidth:this.realSingleStopHeight,t}},methods:{reset:function(){this._cancle(),this._initMove()},leftSwitchClick:function(){if(this.leftSwitchState)return Math.abs(this.xPos)<this.options.switchSingleStep?void(this.xPos=0):void(this.xPos+=this.options.switchSingleStep)},rightSwitchClick:function(){if(this.rightSwitchState)return this.realBoxWidth-this.width+this.xPos<this.options.switchSingleStep?void(this.xPos=this.width-this.realBoxWidth):void(this.xPos-=this.options.switchSingleStep)},_cancle:function(){cancelAnimationFrame(this.reqFrame||"")},touchStart:function(t){var e=this;if(this.canTouchScroll){var i=void 0,s=t.targetTouches[0],a=this.options,r=a.waitTime,n=a.singleHeight,o=a.singleWidth;this.startPos={x:s.pageX,y:s.pageY},this.startPosY=this.yPos,this.startPosX=this.xPos,n&&o?(i&&clearTimeout(i),i=setTimeout((function(){e._cancle()}),r+20)):this._cancle()}},touchMove:function(t){if(!(!this.canTouchScroll||t.targetTouches.length>1||t.scale&&1!==t.scale)){var e=t.targetTouches[0],i=this.options.direction;this.endPos={x:e.pageX-this.startPos.x,y:e.pageY-this.startPos.y},event.preventDefault();var s=Math.abs(this.endPos.x)<Math.abs(this.endPos.y)?1:0;1===s&&i<2?this.yPos=this.startPosY+this.endPos.y:0===s&&i>1&&(this.xPos=this.startPosX+this.endPos.x)}},touchEnd:function(){var t=this;if(this.canTouchScroll){var e=void 0,i=this.options.direction;if(this.delay=50,1===i)this.yPos>0&&(this.yPos=0);else if(0===i){var s=this.realBoxHeight/2*-1;this.yPos<s&&(this.yPos=s)}else if(2===i)this.xPos>0&&(this.xPos=0);else if(3===i){var a=-1*this.realBoxWidth;this.xPos<a&&(this.xPos=a)}e&&clearTimeout(e),e=setTimeout((function(){t.delay=0,t._move()}),this.delay)}},enter:function(){this.hoverStopSwitch&&this._stopMove()},leave:function(){this.hoverStopSwitch&&this._startMove()},_move:function(){this.isHover||(this._cancle(),this.reqFrame=requestAnimationFrame(function(){var t=this,e=this.realBoxHeight/2,i=this.realBoxWidth/2,s=this.options,a=s.direction,r=s.waitTime,n=this.step;1===a?(Math.abs(this.yPos)>=e&&(this.$emit("ScrollEnd"),this.yPos=0),this.yPos-=n):0===a?(this.yPos>=0&&(this.$emit("ScrollEnd"),this.yPos=-1*e),this.yPos+=n):2===a?(Math.abs(this.xPos)>=i&&(this.$emit("ScrollEnd"),this.xPos=0),this.xPos-=n):3===a&&(this.xPos>=0&&(this.$emit("ScrollEnd"),this.xPos=-1*i),this.xPos+=n),this.singleWaitTime&&clearTimeout(this.singleWaitTime),this.realSingleStopHeight?Math.abs(this.yPos)%this.realSingleStopHeight<n?this.singleWaitTime=setTimeout((function(){t._move()}),r):this._move():this.realSingleStopWidth&&Math.abs(this.xPos)%this.realSingleStopWidth<n?this.singleWaitTime=setTimeout((function(){t._move()}),r):this._move()}.bind(this)))},_initMove:function(){var t=this;this.$nextTick((function(){var e=t.options.switchDelay,i=t.autoPlay,s=t.isHorizontal;if(t._dataWarm(t.data),t.copyHtml="",s){t.height=t.$refs.wrap.offsetHeight,t.width=t.$refs.wrap.offsetWidth;var a=t.$refs.slotList.offsetWidth;i&&(a=2*a+1),t.$refs.realBox.style.width=a+"px",t.realBoxWidth=a}if(!i)return t.ease="linear",void(t.delay=e);t.ease="ease-in",t.delay=0,t.scrollSwitch?(t.copyHtml=t.$refs.slotList.innerHTML,setTimeout((function(){t.realBoxHeight=t.$refs.realBox.offsetHeight,t._move()}),0)):(t._cancle(),t.yPos=t.xPos=0)}))},_dataWarm:function(t){t.length},_startMove:function(){this.isHover=!1,this._move()},_stopMove:function(){this.isHover=!0,this.singleWaitTime&&clearTimeout(this.singleWaitTime),this._cancle()}},mounted:function(){this._initMove()},watch:{data:function(t,e){this._dataWarm(t),s(t,e)||this.reset()},autoPlay:function(t){t?this.reset():this._stopMove()}},beforeCreate:function(){this.reqFrame=null,this.singleWaitTime=null,this.isHover=!1,this.ease="ease-in"},beforeDestroy:function(){this._cancle(),clearTimeout(this.singleWaitTime)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=function(t){return t&&t.__esModule?t:{default:t}}(s);a.default.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.componentName||a.default.name,a.default)},"undefined"!=typeof window&&window.Vue&&Vue.component(a.default.name,a.default),e.default=a.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);var n=i(7),o=i(3),l=o(a.a,n.a,!1,null,null,null);e.default=l.exports},function(t,e){t.exports=function(t,e,i,s,a,r){var n,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(n=t,o=t.default);var c,h="function"==typeof o?o.options:o;if(e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0),i&&(h.functional=!0),a&&(h._scopeId=a),r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},h._ssrRegister=c):s&&(c=s),c){var d=h.functional,u=d?h.render:h.beforeCreate;d?(h._injectStyles=c,h.render=function(t,e){return c.call(e),u(t,e)}):h.beforeCreate=u?[].concat(u,c):[c]}return{esModule:n,exports:o,options:h}}},function(t,e){var i=function(){window.cancelAnimationFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}()};t.exports=i},function(t,e){var i=function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0};t.exports=i},function(t,e){function i(){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var t=void 0,e=void 0,a=void 0,r=void 0,n=void 0,o=void 0,l=1,c=arguments[0]||{},h=!1,d=arguments.length;if("boolean"==typeof c&&(h=c,c=arguments[1]||{},l++),"object"!==(void 0===c?"undefined":s(c))&&"function"!=typeof c&&(c={}),l===d)return c;for(;l<d;l++)if(null!=(e=arguments[l]))for(t in e)a=c[t],r=e[t],n=Array.isArray(r),h&&r&&("object"===(void 0===r?"undefined":s(r))||n)?(n?(n=!1,o=a&&Array.isArray(a)?a:[]):o=a&&"object"===(void 0===a?"undefined":s(a))?a:{},c[t]=i(h,o,r)):void 0!==r&&(c[t]=r);return c}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=i},function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrap"},[t.navigation?i("div",{class:t.leftSwitchClass,style:t.leftSwitch,on:{click:t.leftSwitchClick}},[t._t("left-switch")],2):t._e(),t._v(" "),t.navigation?i("div",{class:t.rightSwitchClass,style:t.rightSwitch,on:{click:t.rightSwitchClick}},[t._t("right-switch")],2):t._e(),t._v(" "),i("div",{ref:"realBox",style:t.pos,on:{mouseenter:t.enter,mouseleave:t.leave,touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[i("div",{ref:"slotList",style:t.float},[t._t("default")],2),t._v(" "),i("div",{style:t.float,domProps:{innerHTML:t._s(t.copyHtml)}})])])},a=[],r={render:s,staticRenderFns:a};e.a=r}]).default}))},a856:function(t,e,i){"use strict";i("e870")},be5e:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:t.classes,style:t.styles},[t._t("default")],2)},a=[],r=(i("ed70"),i("e4a4"));const n="ivu-col";function o(t){return"number"===typeof t?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 "+t:t}var l={name:"iCol",props:{span:[Number,String],order:[Number,String],offset:[Number,String],push:[Number,String],pull:[Number,String],className:String,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object],xxl:[Number,Object],flex:{type:[Number,String],default:""}},data(){return{gutter:0}},computed:{classes(){let t=[""+n,{[`${n}-span-${this.span}`]:this.span,[`${n}-order-${this.order}`]:this.order,[`${n}-offset-${this.offset}`]:this.offset,[`${n}-push-${this.push}`]:this.push,[`${n}-pull-${this.pull}`]:this.pull,[""+this.className]:!!this.className}];return["xs","sm","md","lg","xl","xxl"].forEach(e=>{if("number"===typeof this[e])t.push(`${n}-span-${e}-${this[e]}`);else if("object"===typeof this[e]){let i=this[e];Object.keys(i).forEach(s=>{t.push("span"!==s?`${n}-${e}-${s}-${i[s]}`:`${n}-span-${e}-${i[s]}`)})}}),t},styles(){let t={};return 0!==this.gutter&&(t={paddingLeft:this.gutter/2+"px",paddingRight:this.gutter/2+"px"}),this.flex&&(t.flex=o(this.flex)),t}},methods:{updateGutter(){const t=Object(r["g"])(this,"Row");t&&t.updateGutter(t.gutter)}},mounted(){this.updateGutter()},beforeDestroy(){this.updateGutter()}},c=l,h=i("e607"),d=Object(h["a"])(c,s,a,!1,null,null,null),u=d.exports;e["a"]=u},c947:function(t,e,i){},d5d4:function(t,e,i){"use strict";i("71df")},de46:function(t,e,i){"use strict";i("6607")},deee:function(t,e,i){"use strict";i("7d46")},e0f5:function(t,e,i){t.exports=i.p+"img/header.bbf2f2c7.png"},e165:function(t,e,i){t.exports=i.p+"img/owner.940225f4.png"},e276:function(t,e,i){t.exports=i.p+"img/reading.b14d3e84.png"},e749:function(t,e,i){},e870:function(t,e,i){}}]);